!function(e,t){for(var i in t)e[i]=t[i]}(this,function(e){var t={};function i(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";t.__esModule=!0;var r=function(){function e(e,t,i,r){this.container=$("#main-content"),this.form=e,this.select=t,this.config=i||{},this.searchTerm="",this.options=r||{required:!1,isAllowedEmpty:!1}}return e.prototype.buildList=function(){this.form.find(this.select).length<1||(this.selList=this.form.find(this.select),this.select_wrapper=this.select.parent(),this.listGroup=this.select_wrapper.find("ul.list-group"),this.renderList(),this.setUpEvents())},e.prototype.renderList=function(){var e=this.container.children(".select-lib--js").clone().removeClass("hidden");e.length&&(this.select_wrapper.after(e),this.select_wrapper.addClass("hidden"),this.libWrapper=this.select_wrapper.parent().find(".select-lib--js"),this.renderItems())},e.prototype.renderItems=function(){var t=this.libWrapper.find(".group-lib"),i=this.libWrapper.find(".group-sel");this.select.children().each(function(r,s){var l,n;$(s).is(":selected")?(n=i,l=e.libItemTemplate($(s).html(),!0)):(n=t,l=e.libItemTemplate($(s).html(),!1)),$(s).val()&&(l.attr("data-value",$(s).val()),n.append(l))}),this.setPanelTitles()},e.prototype.setPanelTitles=function(){this.libWrapper.find(".panel-title--js").html(this.config.searchTitle),this.libWrapper.find(".panel-title-result--js").html(this.config.resultTitle)},e.prototype.setUpEvents=function(){var e=this;this.libWrapper.on("click",".toggle-btn",function(t){var i=$(t.target),r=i.closest(".list-group-item");if(i.closest(".group-lib").length)r.detach().appendTo(e.libWrapper.find("ul.group-sel")),r.find(".fa").removeClass("fa-plus").addClass("fa-minus");else{if(!i.closest(".group-sel").length)return;r.detach().appendTo(e.libWrapper.find("ul.group-lib")),r.find(".fa").removeClass("fa-minus").addClass("fa-plus")}e.onListChange()}),this.libWrapper.on("keyup",".steps-search-area input",function(t){if(13===(t.keyCode||t.which))return t.preventDefault(),!1;e.searchLibrary($(t.target).val())})},e.prototype.onListChange=function(){this.updateList(),this.options.required&&this.valid()},e.prototype.updateList=function(){var e=[];this.libWrapper.find(".group-sel li").each(function(){e.push($(this).attr("data-value"))}),this.select.val(e)},e.prototype.valid=function(){return 0===this.libWrapper.find("ul.group-sel").children().length?(this.showRequiredError(),!1):(this.showRequiredError(!1),!0)},e.prototype.showRequiredError=function(e){void 0===e&&(e=!0);var t=this.libWrapper.find(".sel-wrapper");e?(t.addClass("has-error"),t.find("p.help-block").length||t.append('<p class="help-block">This field is required.</p>')):t.removeClass("has-error").find("p.help-block").remove()},e.prototype.searchLibrary=function(t){void 0===t&&(t=""),this.searchTerm!==t&&(this.searchTerm=t,""===t?this.libWrapper.find(".group-lib li").each(function(e,t){var i=$(t);i.children(".title").html(i.children(".title").text()),i.show().removeData("searchTitle")}):this.libWrapper.find(".group-lib li").each(function(i,r){var s=$(r);e.searchItem(s,t)}))},e.searchItem=function(t,i){var r=t.closest(".list-group"),s=t.children(".title").text();if(r.hasClass("group-lib")){var l=new RegExp("^(.*?)("+e.escapeRegExp(i)+")(.*?)$","i").exec(s);l&&(s=l[1],s+="<strong>"+l[2]+"</strong>",s+=l[3]),t.children(".title").html(s),t.toggle(null!==l)}else t.children(".title").html(s)},e.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},e.libItemTemplate=function(e,t){return t?$("<li>",{class:"list-group-item"}).append($('<span class="title">'+e+'</span><a class="toggle-btn"><i class="fa fa-minus"></i></a>')):$("<li>",{class:"list-group-item"}).append($('<span class="title">'+e+'</span><a class="toggle-btn"><i class="fa fa-plus"></i></a>'))},e}();t.SelectorBuilder=r}]));